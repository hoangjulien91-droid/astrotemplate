---
/**
 * Homepage — Rémi Capdeville
 * S-Tier Videographer Portfolio
 */
import Layout from "@/layouts/Layout.astro";
import HeroSection from "@/components/HeroSection.astro";
import ServicesGrid from "@/components/ServicesGrid.astro";
import AboutStephane from "@/components/AboutStephane.astro";
import { getEntry } from "astro:content";

const company = await getEntry("config", "company");
---

<Layout transparentNav={true}>
  <!-- Hero Section -->
  <HeroSection bgVideoSrc="" bgImageSrc="/images/dj_hero_background.png" />

  <!-- Trust Bar (Marquee) -->
  <div
    class="trust-bar bg-bg-secondary/50 border-y border-glass-border overflow-hidden py-4"
  >
    <div
      class="marquee flex whitespace-nowrap items-center text-text-muted font-display text-sm tracking-widest uppercase"
    >
      <div class="marquee-content flex items-center space-x-12 animate-scroll">
        <span>Bayonne</span>
        <span class="text-accent">✦</span>
        <span>Anglet</span>
        <span class="text-accent">✦</span>
        <span>Biarritz</span>
        <span class="text-accent">✦</span>
        <span>Pau</span>
        <span class="text-accent">✦</span>
        <span>Dax</span>
        <span class="text-accent">✦</span>
        <span>Mont-de-Marsan</span>
        <span class="text-accent">✦</span>
        <span>Bordeaux</span>
        <span class="text-accent">✦</span>
        <span>Toulouse</span>
        <span class="text-accent">✦</span>
        <span>La Rochelle</span>
        <span class="text-accent">✦</span>
      </div>
      <div
        class="marquee-content flex items-center space-x-12 animate-scroll"
        aria-hidden="true"
      >
        <span>Bayonne</span>
        <span class="text-accent">✦</span>
        <span>Anglet</span>
        <span class="text-accent">✦</span>
        <span>Biarritz</span>
        <span class="text-accent">✦</span>
        <span>Pau</span>
        <span class="text-accent">✦</span>
        <span>Dax</span>
        <span class="text-accent">✦</span>
        <span>Mont-de-Marsan</span>
        <span class="text-accent">✦</span>
        <span>Bordeaux</span>
        <span class="text-accent">✦</span>
        <span>Toulouse</span>
        <span class="text-accent">✦</span>
        <span>La Rochelle</span>
        <span class="text-accent">✦</span>
      </div>
    </div>
  </div>

  <!-- Services Section -->
  <section class="section" id="services">
    <div class="container">
      <header class="section-header">
        <h2 class="section-title">Mes Prestations</h2>
        <p class="section-subtitle">
          Découvrez mes offres sur mesure pour tous vos événements
        </p>
      </header>

      <ServicesGrid />
    </div>
  </section>

  <!-- About Section -->
  <AboutStephane />

  <!-- CTA Section -->
  <section class="section cta-section relative">
    <div class="container relative z-10">
      <div
        class="cta-content glass-card relative overflow-hidden border border-accent/20"
      >
        <div
          class="absolute inset-0 bg-linear-to-r from-accent/5 via-transparent to-accent/5 pointer-events-none"
        >
        </div>
        <h2 class="cta-title font-display font-bold text-4xl mb-4">
          Prêt à créer l'événement de vos rêves ?
        </h2>
        <p class="cta-text text-lg text-text-secondary mb-8 max-w-2xl mx-auto">
          Je me déplace partout en Nouvelle-Aquitaine pour donner vie à votre
          vision et faire danser vos invités jusqu'au bout de la nuit.
        </p>
        <a
          href="/contact"
          class="btn btn-primary text-lg px-8 py-4 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] transition-shadow"
        >
          Demander mon devis sur mesure
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Section Header */
  .section-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .section-title {
    font-size: clamp(2rem, 5vw, 3rem);
    margin-bottom: 0.75rem;
  }

  .section-subtitle {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
  }

  .section-cta {
    display: flex;
    justify-content: center;
    margin-top: 3rem;
  }

  /* About Preview */
  .about-preview {
    background: var(--color-bg-secondary);
  }

  .about-preview__content {
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
  }

  .about-preview__text {
    font-size: 1.125rem;
    line-height: 1.8;
    margin: 1.5rem 0 2.5rem;
  }

  /* CTA Section */
  .cta-section {
    padding-bottom: calc(var(--section-padding) * 1.5);
  }

  .cta-content {
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
    padding: 3rem 2rem;
  }

  .cta-title {
    font-size: clamp(1.5rem, 4vw, 2.75rem);
    margin-bottom: 1rem;
    color: var(--color-text-primary);
  }

  .cta-text {
    margin-bottom: 2rem;
  }

  /* Marquee Animation */
  .anchor-marquee {
    display: flex;
    overflow: hidden;
    user-select: none;
  }

  .animate-scroll {
    animation: scrollText 20s linear infinite;
    padding-left: 3rem; /* Same as the space-x-12 equivalent */
  }

  @keyframes scrollText {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }
</style>
